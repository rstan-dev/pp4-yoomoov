{% extends 'base.html' %}
{% load static %}


{% block content %}
<!-- ======= Hero Section ======= -->
{% include 'partials/_hero-search.html' %}
<!-- End Hero -->

<main id="main">

    <!-- ======= Title Section ======= -->
    <section class="bg-light">
        <div class="container">
            <div class="section-title section-header section-van-detail-header">
                <h1> <img class="cow-icon" src="{% static 'media/cow_icon.png' %}" alt="">VAN DETAIL</h1>
            </div>
    </section><!-- End Title section -->

    <!-- ======= Van Details Section ======= -->
    <section id="van-details" class="van-details">
        <div class="container">
            <div class="row gy-4">
                <!-- Van Title -->
                <h2>{{ van.name }}</h2>
                <div class="col-lg-8">
                    <!-- Detail Main Image -->
                    <img src="{{ van.image.url }}" alt="" class="img-main img-fluid mb-3">
                    <!-- Fields -->
                    <div class="row mb-12 fields">
                        <div class="col-md-12">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item text-secondary">
                                    <i class="fa-solid fa-ruler"></i> Size:
                                    <span class="float-right">{{ van.size }}</span>
                                </li>
                                <li class="list-group-item text-secondary">
                                    <i class="fa-solid fa-truck-ramp-box"></i> Load Area (WxHxL):
                                    <span class="float-right">{{ van.load_area_width }}m x {{ van.load_area_height }}m x
                                        {{ van.load_area_length }}m</span>
                                </li>
                                <li class="list-group-item text-secondary">
                                    <i class="fa-solid fa-cart-flatbed-suitcase"></i> Suitable for:
                                    <span class="float-right">{{ van.suitable_for }}</span>
                                </li>
                                <li class="list-group-item text-secondary">
                                    <i class="fa-sharp fa-solid fa-location-dot"></i> Location:
                                    <span class="float-right">{{ van.location }}
                                    </span>
                                </li>
                                <li class="list-group-item text-secondary">
                                    <i class="fa-sharp fa-solid fa-location-dot"></i> County:
                                    <span class="float-right">{{ van.county }}</span>
                                </li>
                                <li class="list-group-item text-secondary">
                                    <i class="fa-solid fa-people-group"></i> Crew:
                                    <span class="float-right">{{ van.crew }}
                                    </span>
                                </li>
                                <li class="list-group-item text-secondary">
                                    <i class="fa-solid fa-people-group"></i> Price:
                                    <span class="float-right">Â£{{ van.price }} / day
                                    </span>
                                </li>
                                <li class="list-group-item text-secondary">
                                    <i class="fa-solid fa-clock"></i> Running since:
                                    <span class="float-right">{{ van.date_added }}
                                    </span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- Feedback section -->
                <div class="col-lg-4">
                    <div class="feedback-area">
                        <li class="feedback-header">
                            <i class="fa-solid fa-comment fa-flip-horizontal"></i>
                            <span class="feedback-title">Feedback</span>
                        </li>
                        <h4>Amazing service!</h4>
                        <h6>User-1</h6>
                        <p>The YooMoov team turned up on time and were so nice and helpful. I will defintiley be using
                            them again!</p>
                        <h4>So Helpful!</h4>
                        <h6>User-2</h6>
                        <p>Highly recommend these guys for moving all your boxes!</p>
                    </div>
                    <div id="detail-login-btn">
                        {% if user.is_authenticated %}
                        <button type="submit" class="btn btn-success detail-login-btn" data-toggle="modal"
                            data-target="#bookingModal">Login to Book & Leave
                            feedback</button>
                        {% else %}
                        <a href="{% url 'account_login' %}" class="btn btn-success detail-login-btn">Login to Book &
                            Leave
                            feedback</a>
                        {% endif %}
                    </div>
                    <div id="detail-enquiry-btn">
                        <a href="{% url 'contact' %}" class="btn btn-warning detail-enquiry-btn">Make an Enquiry</a>
                    </div>
                </div>
                <div>
                </div>
            </div>
        </div>
    </section><!-- End Van Details Section -->

    <!-- Booking Modal -->
    <div class="modal fade" id="bookingModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="bookingModalLabel"><img class="cow-icon"
                            src="{% static 'media/cow_icon_white.png' %}" alt="">Create a Booking
                    </h5>
                    <button type="button" class="close modal-close-btn" data-dismiss="modal">
                        <span>&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form action="{% url 'create_booking' %}" method="POST">
                        {% csrf_token %}
                        <input type="hidden" name="user_id" value="{{ user.id }}">
                        <div class="form-group">
                            <label for="first_name" class="col-form-label">First Name:</label>
                            <input type="text" name="first_name" class="form-control" value="" required>
                        </div>
                        <div class="form-group">
                            <label for="last_name" class="col-form-label">Last Name:</label>
                            <input type="text" name="last_name" class="form-control" value="" required>
                        </div>
                        <div class="form-group">
                            <label for="email" class="col-form-label">Email:</label>
                            <input type="email" name="email" class="form-control" value="" required>
                        </div>
                        <div class="form-group">
                            <label for="phone" class="col-form-label">Phone:</label>
                            <input type="text" name="phone" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="van_id" class="col-form-label">Van Name:</label>
                            <select name="van_id" class="form-control" required>
                                <option value="" selected>Select a van</option>
                                {% for van in vans %}
                                <option value="{{ van.id }}">{{ van.name }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="date_required" class="col-form-label">Date Required:</label>
                            <input type="text" id="date_required" name="date_required" class="form-control" required>
                        </div>
                        <hr>
                        <input type="submit" value="Request Booking" class="btn btn-warning btn-block">
                        <hr>
                        <h5>T&Cs:<br>
                            Please check the Status of your booking on your Dashboard.<br><br>
                            All requests will either be Confirmed by our administrator, or
                            they will contact you to make alternative arrangements.

                        </h5>
                    </form>
                </div>
            </div>
        </div>
    </div><!-- End Booking Modal -->

</main><!-- End #main -->
{% endblock %}